# nafta

**Перед началом работы над проектом просьба ВНИМАТЕЛЬНО ознакомиться с данным документом!**

**Оглавление**

- [Информация о проекте](#Информация_о_проекте)
- [Начало работы](#Начало_работы)
- [Работа с репозиторием](#Работа_с_репозиторием)
- [Файловая структура](#Файловая_структура)
- [UI kit](#UI_kit)
- [Компонент vue](#Компонент_vue)
  - [Имена компонентов](#Имена_компонентов)
  - [Блок template](#Блок_template)
    - [Иконки](#Иконки)
  - [Блок script](#Блок_script)
  - [Блок style](#Блок_style)
    - [Порядок объявления стилей](#Порядок_объявления_стилей)
    - [Работа с цветом](#Работа_с_цветом)
    - [Работа с изображениями](#Работа_с_изображениями)
    - [Система вертикального ритма](#Система_вертикального_ритма)
    - [Работа с текстом](#Работа_с_текстом)
    - [Media queries](#Media_queries)
- [Работа с Vuex](#Работа_с_Vuex)
  - [mainStore](#mainStore)

## <a name="Информация_о_проекте">Информация о проекте</a>

- **Общая информация:**
  !TODO тут нужно описать дату начала проекта, этапы, установленные сроки, особенности и т.д..

- **ТЗ:**
  !TODO приложить ссылку на ТЗ.

- **Макет:**
  !TODO приложить ссылку на макет.

- **Репозиторий:**
  !TODO приложить ссылку на репозиторий.

- **Технологии:**

`vue 2.6.11`, `vuex 3.4.0`
!TODO дописать остальные технологии.

- **Дополнительная информация:**
  !TODO указать доп.информацию.

## <a name="Начало_работы">Начало работы</a>

- Создаем папку с проектом на локальной машине.
- `git clone <ссылка на репозиторий> <название папки>` - копируем репозиторий.
- Настраиваем git в проекте: <br>
  `git config user.name "<ваша фамилия и имя>"` - указываем имя (не никнейм, а фамилию и имя). <br>
  `git config user.email "<адрес_почты@email.com>"` - указываем рабочую почту.
- `npm i` - устанавливаем пакеты.

- Настраиваем конфигурацию личного сервера: <br>
  - Создаем в корне файл server.config.js;
  - Добавляем в него `module.exports='https://test.naftgaz.hopper-it.ru/'`, где _https://test.naftgaz.hopper-it.ru/_ - адрес нужного сервера

**После установки доступны команды:**

- `npm run dev` - режим разработки

!TODO дописать остальные команды.

## <a name="Работа_с_репозиторием">Работа с репозиторием</a>

!TODO описать ветки (главная, для разботки), текст коммитов и тд..

## <a name="Файловая_структура">Файловая структура</a>

!TODO описать папки и их назначения.

## <a name="UI_kit">UI kit</a>

> UI kit - это витрина готовых компонентов, создана для того что бы быстро найти готовый компонент и переиспользовать его.

**Как использовать:**

- У каждого компонента есть название, описание (как использовать) и графическое представление (варианты внешнего вида).
- Если вы не нашли готовый компонент, который вам нужен, то вы должны его создать и добавить в UI kit.
- Если вы добавили новую функциональность или новую вариацию уже готового компонента, то вам нужно дополнить его описание.

В идеале UI компоненты в графическом макете должны совпадать с UI компонентами на Vue. Это нужно для синхронизации макета и верстки. Если вы видите, что в графическом макете один и тот же элемент(компонент) в разных местах немного отличается, то это повод задать вопрос дизайнеру. Либо у этого элемента(компонента) есть несколько вариаций, либо дизайнер не использует копонентный подход, и изменив компонент в одном месте, забыл изменить его в другом.

## <a name="Компонент_vue">Компонент vue</a>

На проекте используется однофайловая структура компонента vue.

### <a name="Имена_компонентов">Имена компонентов</a>

- Имена компонентов должны всегда состоять из нескольких слов, за исключением корневого компонента App и встроенных компонентов самого Vue, например, `<transition>` или `<component>`.

> Это предотвращает конфликты с существующими или будущими HTML-элементами, поскольку все HTML-элементы именуются одним словом.

**Плохо:**

```
Todo.vue
```

**Хорошо:**

```
TodoItem.vue
```

- Имена файлов однофайловых компонентов должны быть всегда в PascalCase и совпадать с именем компонента.

**Плохо:**

```
components/
|- mycomponent.vue

components/
|- myComponent.vue
```

**Хорошо:**

```
components/
|- MyComponent.vue
```

### <a name="Блок_template">Блок template</a>

#### <a name="Иконки">Иконки</a>

Для иконок создан специальный компонент `UserIcons.vue`.

**Как использовать:**

- Компонент работает по принципу svg спрайта.
- Компонент подключен глобально, т.е. для его использования не нужно ничего импортировать и регистрировать.
- В компонент в атрибут `:iconName` нужно передать название необходимой иконки
- Пример: `<user-icons :iconName="arrow-left"></user-icons>`
- Готовые иконки и их имена можно найти в UI kit в соответствующем разделе.
- Если вы не нашли нужную вам иконку, то ее нужно добавить в компонент, добавить в UI kit и затем использовать.
- При добавлении новой иконки из ее кода нужно убрать весь мусор типа `xmlns="http://www.w3.org/2000/svg"`, а так же все атрибуты `fill`.

### <a name="Блок_script">Блок script</a>

-Путь к импортируемым компонентам всегда должен начинаться с `@` который указывает на папку `src`.

> Это позволяет быстро копировать импорты из других компонентов.

**Плохо:**

```
import MyComponent from "./MyComponent.vue";

import MyComponent from "../../components/MyComponent.vue";
```

**Хорошо:**

```
import MyComponent from "@/components/MyComponent.vue";
```

-Компонент должен содержать параметр `name`, который должен совпадать с названием компонента.

> Это позволяет избегать некоторых ошибок, например при рекурсии компонента.

```
export default {
  name: "MyComponent",
}
```

### <a name="Блок_style">Блок style</a>

- У всех компонентов (кроме App.vue) стили должны быть изолированны с помощью scoped.
- В написании стилей используется scss (lang="scss").
- В написании стилей используется БЭМ нейминг: если имя блока состоит из нескольких слов, то между ними ставится одно тире; между блоком и элементом ставится двойное нижнее подчеркивание; модификатор отделяется двойным тире.
- Запрещаются вложенные селекторы, кроме исключений: когда модификатор блока изменяет свойства вложенных элементов.
- Запрещены селекторы по тегу.
- Селекторы должны идти в том же порядке, как они идут в дом дереве.
- Имена селекторов записываются с помощью синтексиса `scss`. В корне идет имя блока, внутри которого через `&` указываются дочерние элементы.

```
.my-component {
	&__element-1 {
    }

    &__element-2 {
    }

    &--modificator {
    	.my-component__element-1 {
        }
    }
}
```

#### <a name="Порядок_объявления_стилей">Порядок объявления стилей</a>

- Свойства необходимо группировать по категориям (см. пример ниже).
- Между категориями необходимо ставить пробел в одну строку.
- Экстенды вставляются в категорию, к которым относятся свойства внутри них. Например: `@extend .h3;` относится к типограифке.

> Данный подход улучшает читабельность и ускоряет визуальный поиск нужного свойства.

```
/* Переменные и свойство content */
$padding-vertical: 40px;
--gap: 24px;
content: ""; // Псевдоэлемент не появится без этого свойства

/* Позиционирование */
position: absolute;
top: 0;
right: 0;
bottom: 0;
left: 0;
z-index: 100;

/* Размеры элемента и отступы */
width: 100px;
height: 100px;
padding: 10px;
margin: 10px;

/* Модель элемента */
display: flex;
flex-direction: column;
flex-shrink: 0;

/* Типографика */
color: #333;
font-size: 13px;
line-height: 1.5;
text-align: center;

/* Визуальное отображение */
background-color: #f5f5f5;
border: 1px solid #e5e5e5;
border-radius: 3px;
opacity: 1;

/* Прочее */
cursor: pointer;
```

#### <a name="Работа_с_цветом">Работа с цветом</a>

В файле colors.scss в переменных указаны цвета. При написании стилей, необходимо пользоваться этими переменными.

#### <a name="Работа_с_изображениями">Работа с изображениями</a>

!TODO добавить описание.

#### <a name="Система_вертикального_ритма">Система вертикального ритма</a>

Согласно дизайн макету на проекте используется система вертикального ритма.<br>
**"Система вертикального ритма"** или **"Horizontal Margins system"** (название в макете) - это система полей, построенная на основе базового значения.

**Необходима для:**

- Стандартизации внешнего вида (все отступы кратны базовому значению);
- Контроля за разработкой.<br>
  Если в макете есть отступы не соответствующие системе, то есть повод задать вопрос дизайнеру.<br>
  Если разработчик использует margin или padding не по системе, то есть повод задуматься, правильно ли выстроена сетка компонента.

**Как использовать:**

- Базовое значение указано в css переменной `--v-rhythm-base` и по умолчанию равно `4px`.
- Так же созданы переменные `--v-rhythm-i`, где вместо `i` идет число от `1 до 20`.
- Значение переменной `--v-rhythm-i` будет ровняться `i * 4px`. Пример: `--v-rhythm-1 === 4px`, `--v-rhythm-4 === 16px`.
- Пример использования: `margin-bottom: var(--v-rhythm-4);` эквивалентно `margin-bottom: 16px;`
- Если необходимо значение в 0,5 или 1,5 от базового значения, то следует использовать функцию `calc`. Пример: `calc(var(--v-rhythm-1) * 0.5)` эквивалентно `2px`.

**Интервалы**

| steps | size, px |
| :---: | :------: |
| 0.5x  |    2     |
|   x   |    4     |
| 1.5x  |    6     |
|  2x   |    8     |
|  3x   |    12    |
|  4x   |    16    |
|  5x   |    20    |
|  6x   |    24    |
|  8x   |    32    |
|  10x  |    40    |
|  20x  |    80    |

> Для удобства написания переменной вертикального ритма на проекте есть Snippet. Начните вводить `rh`, после чего VScode вам предложит выбрать `rhyt`. После выбора, подставится маска сниппета `var(--v-rhythm-)`, куда вам останется вписать только нужную цифру (от 1 до 20).

#### <a name="Работа_с_текстом">Работа с текстом</a>

Согласно дизайн макету на проекте используется система типографики.

**Необходима для:**

- Стандартизации внешнего вида (тексты одного значения имеют одинаковый внешний вид);
- Управлять размерами текста можно из одного файла с переменными;
- Нет повтора стилей.

В файле `tipography.scss` созданы специальные классы типографики соответствующие дизайн макету `.h1, .h2, .subtitle-1, .body-1` и т.д.. Эти классы содержат в себе только свойства относящиеся к типографике (размер шрифта, толщина шрифта, лайнхейт и т.д.). Так же они адаптивные, т.е. меняют свои значения в зависимости от ширины экрана браузера.

**Как использовать:**

- В дизайн макете на элементе с текстом на вкладке `typography` есть название переменной (напротив `Ag`). Если названия нет, то есть повод задать вопрос дизайнеру.
- В стилях компонента в нужном селекторе в самом начале с помощью `@extend` добавляется класс типографики. Например `@extend .h1`;

> Если по каким то причинам вы не можете использовать готовые классы типографики, то задавать свойства `font-size, line-height, font-weight` нужно через специальный миксин `@mixin font`. Пример: `@include font(16px, 24px, 700);` эквивалентно `font-size: 16px; line-height: 24px; font-weight: 700;`.

#### <a name="Media_queries">Media queries</a>

!TODO добавить описание.

## <a name="Работа_с_Vuex">Работа с Vuex</a>

!TODO добавить описание.

### <a name="mainStore">mainStore</a>

!TODO добавить описание что хранится в mainStore и как с этим работать.
